{"version":3,"sources":["images/header__logo.svg","images/menu_button.svg","images/Close_Icon2.svg","contexts/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/authUser.js","components/InfoTooltip.js","images/resolve.svg","images/error.svg","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Нeader","title","isOpen","onMenuClick","onClose","onSignOut","currentUser","useContext","className","exact","path","src","headerLogo","alt","type","onClick","style","backgroundImage","closeButton","menuBotton","email","to","Card","card","onCardClick","onCardLike","onCardDelete","isLiked","likes","some","item","_id","cardLikeButtonClassName","isOwn","owner","cardDeleteButtonClassName","name","link","length","Main","onEditAvatar","onEditProfile","onAddPlace","onCardDelite","onCards","avatar","about","map","reverse","Footer","PopupWithForm","children","buttonText","onSubmit","onCloseOverlayClick","onCloseKeyDown","popupLinkRef","useRef","useEffect","currentPopup","current","addEventListener","document","removeEventListener","ref","ImagePopup","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","localStorage","getItem","then","_checkResponse","body","JSON","stringify","like","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","evt","preventDefault","id","value","onChange","target","required","placeholder","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","Login","onLogin","setEmail","password","setPassword","history","useHistory","resetForm","handleSubmit","a","catch","err","console","log","push","Register","onRegister","ProtectedRoute","Component","component","props","loggedIn","BASE_URL","InfoTooltip","message","image","text","App","setLoggedIn","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isMenuOpen","setIsMenuOpen","selectedCard","setSelectedCard","selectedCardDelet","setSelectedCardDelete","setCurrentUser","cards","setCards","setMessage","isInfoTooltipOpen","setInfoTooltipOpen","handleClosePopupKeyDown","key","closeAllPopups","handleClosePopupOverlayClick","classList","contains","all","getInitialCards","getUserInfoFromServer","dataCards","dataUser","token","jwt","credentials","data","Provider","Header","removeItem","changeLikeCardStatus","newCard","c","authUser","imageResolve","imageError","finally","setItem","updateUserData","updateUserAvatar","postCards","handlerDeleteCards","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.ac2c5044.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.e564ed1a.svg\";","export default __webpack_public_path__ + \"static/media/menu_button.a46d5c1c.svg\";","export default __webpack_public_path__ + \"static/media/Close_Icon2.b793e07c.svg\";","\nimport React from 'react';\nexport const CurrentUserContext = React.createContext();","import headerLogo from \"../images/header__logo.svg\";\nimport menuBotton from \"../images/menu_button.svg\";\nimport closeButton from \"../images/Close_Icon2.svg\";\nimport {useContext} from 'react';\nimport { Route, Link } from 'react-router-dom';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Нeader({ title, isOpen, onMenuClick, onClose, onSignOut}) {\n\n    const currentUser = useContext(CurrentUserContext);\n    \n    return(\n        <header className=\"header\">\n            <Route exact path=\"/\">\n                <div className=\"header__menu\">\n                    <div className=\"header__logo-container\">\n                        <img className=\"header__logo\" src={headerLogo} alt=\"Место\" />\n                        <button \n                            className=\"header__menu-button\" \n                            type=\"button\" \n                            onClick={isOpen ? onClose : onMenuClick} \n                            style={isOpen ? {backgroundImage: `url(${closeButton})`} : { backgroundImage: `url(${menuBotton})`} }\n                        />\n                    </div>\n                    <div className={`header__container ${isOpen ? \"header__container_active\" : \"\"}`}>\n                        <p className=\"header__user-email\">{ currentUser.email }</p>\n                        <button type=\"button\" className=\"header__button\" onClick={onSignOut}>{title}</button>\n                    </div>\n                </div>\n            </Route>\n\n            <Route exact path=\"/signin\">\n                <div className=\"header__mob-menu\">\n                    <img className=\"header__logo\" src={headerLogo} alt=\"Место\" />\n                    <Link to={\"/signup\"} className=\"header__link\">Регистрация</Link>\n                </div>\n            </Route>\n\n            <Route exact path=\"/signup\">\n                <div className=\"header__mob-menu\">\n                    <img className=\"header__logo\" src={headerLogo} alt=\"Место\" />\n                    <Link to={\"/signin\"} className=\"header__link\">Войти</Link>\n                </div>\n            </Route>\n        </header>\n    );  \n}\n\nexport default Нeader;","import {useContext} from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n    const currentUser = useContext(CurrentUserContext);\n\n    const isLiked = card.likes.some((item) => {\n        return item === currentUser._id\n    });\n\n    const cardLikeButtonClassName = (\n        `${isLiked ? 'card__button card__button_active' : 'card__button'}`\n    );\n\n    const isOwn = card.owner === currentUser._id;\n\n    const cardDeleteButtonClassName = (\n    `${isOwn ? 'card__remove-button card__remove-button_visible' : 'card__remove-button'}`\n    );\n\n    function handleClick() {\n        onCardClick(card);\n    }  \n\n    function handleLike() {\n        onCardLike(card);\n    }\n\n    function handleDelete() {\n        onCardDelete(card)\n    }\n\n    return (\n        <div className=\"card\">\n            <img className=\"card__image\" alt={card.name} src={card.link} onClick={handleClick} />\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDelete}></button>\n            <div className=\"card__container\">\n                <h2 className=\"card__title\">{card.name}</h2>\n                <div className=\"card__like-container\">\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLike}></button>\n                    <p className=\"card__botton-counter\">{card.likes.length}</p>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Card;","import {useContext} from 'react';\nimport Card from \"../components/Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelite, onCards}) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n    return(\n        <main>\n            <section className=\"profile\">\n                <div className=\"profile__avatar-container\">\n                    <img className=\"profile__avatar\" onClick={onEditAvatar} src={currentUser.avatar} alt=\"Фото профиля\" />\n                </div>\n                <div className=\"profile__info\"> \n                    <div className=\"profile__container\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button onClick={onEditProfile} type=\"submit\" className=\"profile__edit-button\"></button>\n                    </div>\n                    <p className=\"profile__career\">{currentUser.about}</p>\n                </div>\n                <button onClick={onAddPlace} type=\"button\" className=\"profile__add-button\"></button>\n            </section>\n\n            <section className=\"grid-galery\">\n                {onCards.map((card) => {\n                   return (\n                    <Card \n                        key={card._id} \n                        card={card} \n                        onCardDelete={onCardDelite} \n                        onCardClick={onCardClick} \n                        onCardLike={onCardLike} \n                    />\n                   )\n                }).reverse()}\n            </section>\n        </main> \n    );\n}\n\nexport default Main;","function Footer() {\n    return(\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import { useEffect, useRef } from 'react';\n\nfunction PopupWithForm({isOpen, name, onClose, title, children, buttonText, onSubmit, onCloseOverlayClick, onCloseKeyDown}) { \n\n    const popupLinkRef = useRef();\n\n    useEffect(() => {\n        const currentPopup = popupLinkRef.current;\n        currentPopup.addEventListener(\"mousedown\", onCloseOverlayClick);\n        document.addEventListener(\"keydown\", onCloseKeyDown);\n        return() => {\n            document.removeEventListener(\"keydown\", onCloseKeyDown);\n            currentPopup.removeEventListener(\"mousedown\", onCloseOverlayClick);\n        }\n    }, [isOpen, onClose, onCloseKeyDown, onCloseOverlayClick]);\n\n    return(\n        <div className={`popup popup_type_${name} ${isOpen ? \"popup_open\" : \"\"}`} ref={popupLinkRef}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n                <form className={`form form_${name}`} name={name} onSubmit={onSubmit}>\n                    <h2 className=\"form__title\">{title}</h2>\n                    {children}\n                    <button type=\"submit\" className=\"form__save-button\">{buttonText}</button>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default PopupWithForm;","import { useEffect, useRef } from 'react';\n\nfunction ImagePopup({card, onClose, onCloseKeyDown, onCloseOverlayClick}) {\n    const popupLinkRef = useRef();\n\n    useEffect(() => {\n        const currentPopup = popupLinkRef.current;\n\n        currentPopup.addEventListener(\"click\", onCloseOverlayClick);\n        document.addEventListener(\"keydown\", onCloseKeyDown);\n        return() => {\n            document.removeEventListener(\"keydown\", onCloseKeyDown);\n            currentPopup.removeEventListener(\"click\", onCloseOverlayClick);\n        }\n    }, [card, onClose, onCloseKeyDown, onCloseOverlayClick]);\n\n    return(\n        <div className={`popup ${card.link && \"popup_open\"} popup_type_image\"`} ref={popupLinkRef}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n                <img className=\"popup__image\" alt={card.name} src={card.link}  />\n                <h3 className=\"popup__subtitle\">{card.name}</h3>\n            </div>\n        </div>\n    );\n}\n\nexport default ImagePopup;  ","class Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n  \n    _checkResponse(res) {\n      if (res.ok) {\n          return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  \n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n            },\n        })\n        .then(this._checkResponse)\n    }\n  \n    postCards(item) {\n        return fetch(`${this._url}/cards`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n            },\n            body: JSON.stringify({\n              name: item.name,\n              link: item.link,\n            })\n        })\n        .then(this._checkResponse)\n    }\n  \n    handlerDeleteCards(item) {\n      return fetch(`${this._url}/cards/${item}`, {\n          method: 'DELETE',\n          headers: {\n            \"Content-Type\": \"application/json\",\n            'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n          },\n      })\n      .then(this._checkResponse)\n    }\n  \n    changeLikeCardStatus(item, like) {\n      return fetch(`${this._url}/cards/${item}/likes`, {\n          method: like ? 'DELETE' : 'PUT',\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n          },\n      })\n      .then(this._checkResponse)\n    }\n  \n    getUserInfoFromServer() {\n        return fetch(`${this._url}/users/me`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n            },\n        })\n        .then(this._checkResponse)\n    }\n  \n    updateUserData(item) {\n      return fetch(`${this._url}/users/me`, {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n          },\n          body: JSON.stringify({\n              name: item.name,\n              about: item.about\n          })\n      })\n      .then(this._checkResponse)\n    }\n  \n    updateUserAvatar(item) {\n      return fetch(`${this._url}/users/me/avatar`, {\n        method: \"PATCH\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n        },\n        body: JSON.stringify({\n          avatar: item.link,\n        })\n      })\n      .then(this._checkResponse)\n    }\n}\n    \nconst config = {\n    url: \"https://api.last.nomoredomains.work\",\n};\n\nconst api = new Api(config);\n\nexport default api;","import { useState, useContext, useEffect} from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser, onCloseOverlayClick}) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  useEffect(() => {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }, [currentUser, isOpen]);\n\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    \n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return(\n    <PopupWithForm \n      name=\"edit\" \n      title=\"Редактировать профиль\" \n      buttonText=\"Сохранить\" \n      isOpen={isOpen} \n      onClose={onClose} \n      onSubmit={handleSubmit} \n      onCloseOverlayClick={onCloseOverlayClick}\n     >\n      <input \n        className=\"form__user-info form__user-info_user_name form__input\" \n        id=\"input-name\" \n        name=\"name\" \n        value={name || \"\"} \n        onChange={handleNameChange} \n        type=\"text\" \n        required \n        placeholder=\"Имя\" \n        minLength=\"2\" \n        maxLength=\"40\"\n      />\n      <span className=\"form__input-error input-name-error\"></span>\n      <input \n        className=\"form__user-info form__user-info_user_job form__input\" \n        id=\"input-job\" name=\"description\" \n        value={description || \"\"} \n        onChange={handleDescriptionChange} \n        type=\"text\" \n        required \n        placeholder=\"О себе\" \n        minLength=\"2\" \n        maxLength=\"200\"\n      />\n      <span className=\"form__input-error input-job-error\"></span> \n    </PopupWithForm>\n  );\n}","import { useRef, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, onCloseOverlayClick }) {\n\n    const avatarRef = useRef();\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n      \n        onUpdateAvatar({\n          link: avatarRef.current.value\n        });\n    }\n\n    useEffect(() => {\n        avatarRef.current.value = \"\";\n    }, [isOpen]);\n\n    return(\n        <PopupWithForm \n            name=\"avatar\" \n            title=\"Обновить аватар\" \n            buttonText=\"Сохранить\" \n            isOpen={isOpen} \n            onClose={onClose} \n            onSubmit={handleSubmit} \n            onCloseOverlayClick={onCloseOverlayClick}\n         >\n            <input \n                className=\"form__user-info form__user-info_photo_src\" \n                id=\"input-avatar\" \n                name=\"link\" \n                type=\"url\" \n                ref={avatarRef} \n                required \n                placeholder=\"Ссылка на картинку\" \n            />\n            <span className=\"form__input-error input-avatar-error\"></span>\n        </PopupWithForm>\n    )\n}","import { useState, useEffect} from 'react';\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace, onCloseOverlayClick }) {\n\n    const [cardName, setCardName] = useState(\"\");\n    const [cardLink, setCardLink] = useState(\"\");\n\n    function handleCardNameAdd(evt) {\n        setCardName(evt.target.value);\n    }\n\n    function handleCardLinkAdd(evt) {\n        setCardLink(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onAddPlace({\n            name: cardName,\n            link: cardLink,\n        });\n    }\n\n    useEffect(() => {\n        setCardName(\"\");\n        setCardLink(\"\");\n    }, [isOpen]);\n\n    return(\n        <PopupWithForm \n            name=\"new-card\" \n            title=\"Новое место\" \n            buttonText=\"Создать\" \n            isOpen={isOpen} \n            onClose={onClose} \n            onSubmit={handleSubmit}\n            onCloseOverlayClick={onCloseOverlayClick}\n         >\n            <input \n                className=\"form__user-info form__user-info_photo_name\" \n                id=\"input-title\" \n                name=\"cardName\" \n                value={cardName} \n                onChange={handleCardNameAdd} \n                type=\"text\" \n                required \n                placeholder=\"Название\" \n                minLength=\"1\" \n                maxLength=\"30\"\n            />\n            <span className=\"form__input-error input-title-error\"></span>\n            <input \n                className=\"form__user-info form__user-info_photo_src\" \n                id=\"input-src\" \n                name=\"cardLink\" \n                value={cardLink} \n                onChange={handleCardLinkAdd} \n                type=\"url\" \n                required \n                placeholder=\"Ссылка на картинку\" \n            />\n            <span className=\"form__input-error input-src-error\"></span>\n        </PopupWithForm>\n    );\n}  ","import {useState, useEffect} from 'react';\nimport { useHistory } from 'react-router-dom';\n\nfunction Login({ onLogin }) {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const history = useHistory();\n\n    const resetForm = () => {\n        setEmail(\"\");\n        setPassword(\"\");\n    }\n\n    const handleSubmit = async (evt) => {\n        evt.preventDefault();\n        onLogin({ password, email })\n          .then(resetForm)\n          .catch((err) => {\n              console.log(err);\n          });\n    }\n\n    useEffect(() => {\n        if (localStorage.getItem('jwt')) {\n          history.push('/');\n        }\n    }, [history]);\n\n    function handlePasswordAdd(evt) {\n        setPassword(evt.target.value);\n    }\n\n    function handleEmailAdd(evt) {\n        setEmail(evt.target.value);\n    }\n\n    return (\n        <div className=\"login-page\">\n            <h1 className=\"login-page__title\">Вход</h1>\n            <form className=\"login-page__form\" onSubmit={handleSubmit}>\n                <input \n                    className=\"login-page__input form__login-input_email\" \n                    type=\"email\" \n                    placeholder=\"Email\"\n                    name=\"email\"\n                    required\n                    value={email}\n                    onChange={handleEmailAdd}\n                />\n\n                <input \n                    className=\"login-page__input form__login-input_password\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    name=\"password\"\n                    required\n                    value={password}\n                    onChange={handlePasswordAdd}\n                />\n                <button className=\"login-page__save-button\">Войти</button>\n            </form>\n        </div>\n    )\n}\n\nexport default Login;","import React, { useState, useEffect  } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nfunction Register({ onRegister }) {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const history = useHistory();\n \n    const resetForm = () => {\n        setEmail(\"\");\n        setPassword(\"\");\n    }\n\n    const handleSubmit = async (evt) => {\n        evt.preventDefault();\n    \n        onRegister({ password, email })\n          .then(resetForm)\n          .catch((err) => {\n              console.log(err)\n          });\n    };\n\n    useEffect(() => {\n        if (localStorage.getItem('jwt')) {\n          history.push('/');\n        }\n    }, [history]);\n\n    function handlePasswordAdd(evt) {\n        setPassword(evt.target.value);\n    }\n\n    function handleEmailAdd(evt) {\n        setEmail(evt.target.value);\n    }\n\n    return (\n        <div className=\"login-page\">\n            <h1 className=\"login-page__title\">Регистрация</h1>\n            <form className=\"login-page__form\" onSubmit={handleSubmit}>\n                <input \n                    className=\"login-page__input form__login-input_email\" \n                    type=\"email\" \n                    placeholder=\"Email\"\n                    name=\"email\"\n                    required\n                    value={email}\n                    onChange={handleEmailAdd}\n                />\n\n                <input \n                    className=\"login-page__input form__login-input_password\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    name=\"password\"\n                    required\n                    value={password}\n                    onChange={handlePasswordAdd}\n                />\n                <button className=\"login-page__save-button\">Зарегистрироваться</button>\n            </form>\n            <p className=\"login-page__subtitle\">Уже зарегистрированы? <Link to={\"/signin\"} className=\"login-page__subtitle login-page__link\">Войти</Link></p>\n        </div>\n    )\n}\n\nexport default Register;","import { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => (\n  <Route>\n    {\n      () => (props.loggedIn ? <Component {...props} /> : <Redirect to='/signin' />)\n    }\n  </Route>\n);\n\nexport default ProtectedRoute;","export const BASE_URL = \"https://api.last.nomoredomains.work\";\n\nexport const register = (password, email) => { \n  return fetch(`${BASE_URL}/signup`, { \n    method: 'POST', \n    headers: { \n      'Accept': 'application/json', \n      'Content-Type': 'application/json' \n    }, \n    credentials: 'include', \n    body: JSON.stringify({password, email}) \n  }) \n  .then((res) => { \n    if (res.ok) { \n      return res.json(); \n    } \n    return Promise.reject(`Ошибка: ${res.status}`); \n  }) \n  .then((res) => { \n    return res; \n  }); \n\n} \n\nexport const authorize = (password, email) => { \n  return fetch(`${BASE_URL}/signin`, { \n    method: 'POST', \n    headers: { \n      'Accept': 'application/json', \n      'Content-Type': 'application/json',\n    }, \n    credentials: 'include', \n    body: JSON.stringify({password, email}) \n  }) \n\n  .then((res) => { \n    if (res.ok) { \n      return res.json(); \n    } \n    return Promise.reject(`Ошибка: ${res.status}`); \n  }); \n\n} \n\nexport const getContent = (token) => { \n  return fetch(`${BASE_URL}/users/me`, { \n    method: 'GET', \n    headers: { \n      'Accept': 'application/json', \n      'Content-Type': 'application/json', \n      'Authorization': `Bearer ${token}`, \n    },\n    credentials: 'include', \n  }) \n  .then((res) => { \n    if (res.ok) { \n      return res.json(); \n    } \n    return Promise.reject(`Ошибка: ${res.status}`); \n  }) \n  .then(data => data); \n} ","import { useRef, useEffect } from \"react\";\n\nexport default function InfoTooltip({ isOpen, onClose, message,  onCloseOverlayClick, onCloseKeyDown}) {\n\n    const popupLinkRef = useRef();\n\n    useEffect(() => {\n        const currentPopup = popupLinkRef.current;\n\n        currentPopup.addEventListener(\"click\", onCloseOverlayClick);\n        document.addEventListener(\"keydown\", onCloseKeyDown);\n        return() => {\n            document.removeEventListener(\"keydown\", onCloseKeyDown);\n            currentPopup.removeEventListener(\"click\", onCloseOverlayClick);\n        }\n    }, [onClose, onCloseKeyDown, onCloseOverlayClick]);\n\n    return(\n        <div className={`popup ${isOpen && \"popup_open\"} popup_type_image\"`} \n            ref={popupLinkRef}        \n        >\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n                <form className=\"form\">\n                    <img className=\"form__image\" src={message.image} alt=\"Авторизация\"></img>\n                    <p className=\"form__subtitle\">{message.text}</p>\n                </form>\n            </div>\n        </div>\n    )\n}","export default __webpack_public_path__ + \"static/media/resolve.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import {useState, useEffect} from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\"; \nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport ProtectedRoute from \"./ProtectedRoute.js\";\nimport * as authUser from \"../utils/authUser.js\";\nimport InfoTooltip from \"./InfoTooltip.js\";\nimport imageResolve from \"../images/resolve.svg\";\nimport imageError from \"../images/error.svg\";\n \nfunction App() {\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\n    const [selectedCard, setSelectedCard] = useState({name: \"\", link: \"\"});\n    const [selectedCardDelet, setSelectedCardDelete] = useState(null);\n    const [currentUser, setCurrentUser] = useState({});\n    const [cards, setCards] = useState([]);\n    const [message, setMessage] = useState({ image: \"\", text: \"\" });\n    const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\n    const history = useHistory();\n\n\n    useEffect(() => {\n        if (loggedIn) {\n        Promise.all([api.getInitialCards(), api.getUserInfoFromServer()])\n        .then(([dataCards, dataUser]) => {\n            setCards(dataCards);\n            setCurrentUser(dataUser);\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n        }\n    }, [loggedIn]);\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some((item) => {\n            return item === currentUser._id\n        });\n      \n        api.changeLikeCardStatus(card._id, isLiked)\n        .then((newCard) => {\n            setCards(cards => cards.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n    \n    function handleCardDelete(evt) {\n        evt.preventDefault();\n        api.handlerDeleteCards(selectedCardDelet._id)\n        .then(() => {\n            setCards(cards => cards.filter((c) => c._id !== selectedCardDelet._id));\n            setIsDeletePopupOpen(false);\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleDeleteCardClick(card) {\n        setSelectedCardDelete(card);\n        setIsDeletePopupOpen(true);\n    }\n\n    function handleAddPlaceSubmit(item) {\n        api.postCards(item)\n        .then(newCard => {\n            setCards([...cards, newCard]);\n            closeAllPopups();\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n     \n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card);\n    }\n\n    function handleMenuClick() {\n        setIsMenuOpen(true);\n    }\n\n    function handleClosePopupKeyDown(evt) {\n        if(evt.key === \"Escape\") {\n            closeAllPopups();\n        }\n    }\n\n    function handleClosePopupOverlayClick(evt) {\n        if(evt.target.classList.contains(\"popup\")) {\n            closeAllPopups();\n        }\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsDeletePopupOpen(false);\n        setSelectedCard({name: \"\", link: \"\"});\n        setIsMenuOpen(false);\n        setInfoTooltipOpen(false);\n        setMessage({ image: \"\", text: \"\" })\n    }\n\n    function handleUpdateUser(item) {\n        api.updateUserData(item)\n        .then(res => {\n            setCurrentUser(res);\n            closeAllPopups();\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleUpdateAvatar(item) {\n        api.updateUserAvatar(item) \n        .then(res => {\n            setCurrentUser(res);\n            closeAllPopups();\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    useEffect(() => {\n        const jwt = localStorage.getItem('jwt');\n        if (jwt) {\n            authUser.getContent(jwt)\n            .then((res) => {\n                if (res) {\n                  setLoggedIn(true);\n                  history.push('/');\n                }\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n        }\n    }, [history]);\n    \n    const onRegister = ({ password, email }) => {\n        return authUser.register( password, email )\n        .then((res) => {\n            if(res) {\n                setMessage({ image: imageResolve, text: \"Вы успешно зарегистрировались!\" });\n                return res;\n            } \n        })\n        .catch((err) => {\n            console.log(err);\n            setMessage({ image: imageError, text: \"Что-то пошло не так! Попробуйте ещё раз.\" });\n        })\n        .finally(() => {\n            setInfoTooltipOpen(true);\n        });\n    }\n\n    const onLogin = ({ password, email }) => { \n        return authUser.authorize( password, email ) \n        .then((data) => { \n            if (data.token){ \n                setLoggedIn(true); \n                localStorage.setItem('jwt', data.token); \n                history.push('/'); \n            }  \n          }) \n        .catch((err) => { \n            console.log(err) \n            setMessage({ image: imageError, text: \"Что-то пошло не так! Попробуйте ещё раз.\" }); \n            setInfoTooltipOpen(true); \n        }) \n    }\n\n    const onSignOut = () => {\n        localStorage.removeItem('jwt');\n        setLoggedIn(false);\n    }\n\n  return (\n    <CurrentUserContext.Provider value = {currentUser}>\n        <div className=\"App page\">\n            <Route>\n                {loggedIn ? <Redirect to=\"/\" />  &&           \n                <Header \n                    title={\"Выйти\"} \n                    isOpen={isMenuOpen} \n                    onMenuClick={handleMenuClick}\n                    onClose={closeAllPopups} \n                    onSignOut={onSignOut}\n                /> \n                : <Redirect to=\"/signup\" \n            />}\n\n            </Route>\n            <Switch>\n                <ProtectedRoute \n                    exact\n                    path=\"/\"\n                    loggedIn={loggedIn}\n                    onEditProfile={handleEditProfileClick} \n                    onAddPlace={handleAddPlaceClick}  \n                    onEditAvatar={handleEditAvatarClick} \n                    onCardClick={handleCardClick} \n                    onCardLike={handleCardLike} \n                    onCardDelite={handleDeleteCardClick}\n                    onCards={cards}\n                    component={Main} \n                />     \n\n                <Route exact path=\"/signup\">\n                    <Header />\n                    <Register onRegister={onRegister} />\n                </Route>\n\n                <Route exact path=\"/signin\">\n                    <Header />\n                    <Login onLogin={onLogin} />\n                </Route>\n\n            </Switch>\n\n            <InfoTooltip \n                isOpen={isInfoTooltipOpen}\n                onClose={closeAllPopups}\n                message={message}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />\n\n            <Footer />\n\n            <EditProfilePopup \n                isOpen={isEditProfilePopupOpen} \n                onClose={closeAllPopups} \n                onUpdateUser={handleUpdateUser}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />\n\n            <EditAvatarPopup \n                isOpen={isEditAvatarPopupOpen} \n                onClose={closeAllPopups} \n                onUpdateAvatar={handleUpdateAvatar}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />\n\n            <AddPlacePopup \n                isOpen={isAddPlacePopupOpen} \n                onClose={closeAllPopups}\n                onAddPlace={handleAddPlaceSubmit}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />\n\n            <ImagePopup \n                card={selectedCard} \n                onClose={closeAllPopups} \n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />         \n\n            <PopupWithForm \n                name=\"delete-image\" \n                title=\"Вы уверены?\" \n                buttonText=\"Да\" \n                isOpen={isDeletePopupOpen}\n                onClose={closeAllPopups}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n                onSubmit={handleCardDelete}\n            />\n        </div>\n    </CurrentUserContext.Provider> \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}