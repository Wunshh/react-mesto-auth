{"version":3,"sources":["images/header__logo.svg","images/menu_button.svg","images/Close_Icon2.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/authUser.js","components/InfoTooltip.js","images/resolve.svg","images/error.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Нeader","title","isOpen","onMenuClick","onClose","userData","onSignOut","className","exact","path","src","headerLogo","alt","type","onClick","style","backgroundImage","closeButton","menuBotton","to","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","name","link","length","Main","onEditAvatar","onEditProfile","onAddPlace","onCardDelite","onCards","avatar","about","map","Footer","PopupWithForm","children","buttonText","onSubmit","onCloseOverlayClick","onCloseKeyDown","popupLinkRef","useRef","useEffect","currentPopup","current","addEventListener","document","removeEventListener","ref","ImagePopup","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","body","JSON","stringify","like","authorization","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","evt","preventDefault","id","value","onChange","target","required","placeholder","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","Login","onLogin","email","setEmail","password","setPassword","history","useHistory","resetForm","handleSubmit","a","catch","err","console","log","localStorage","getItem","push","Register","onRegister","ProtectedRoute","Component","component","props","loggedIn","BASE_URL","InfoTooltip","message","image","text","App","setLoggedIn","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isMenuOpen","setIsMenuOpen","selectedCard","setSelectedCard","selectedCardDelet","setSelectedCardDelete","setCurrentUser","cards","setCards","setUserData","setMessage","isInfoTooltipOpen","setInfoTooltipOpen","handleClosePopupKeyDown","key","closeAllPopups","handleClosePopupOverlayClick","classList","contains","all","getInitialCards","getUserInfoFromServer","dataCards","dataUser","token","jwt","data","Provider","Header","removeItem","changeLikeCardStatus","newCard","c","authUser","imageResolve","imageError","finally","setItem","updateUserData","updateUserAvatar","postCards","handlerdeleteCards","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.b0d29dfa.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.e564ed1a.svg\";","export default __webpack_public_path__ + \"static/media/menu_button.a46d5c1c.svg\";","export default __webpack_public_path__ + \"static/media/Close_Icon2.b793e07c.svg\";","import headerLogo from \"../images/header__logo.svg\";\nimport menuBotton from \"../images/menu_button.svg\";\nimport closeButton from \"../images/Close_Icon2.svg\";\nimport { Route, Link } from 'react-router-dom';\n\nfunction Нeader({ title, isOpen, onMenuClick, onClose, userData, onSignOut}) {\n\n    return(\n        <header className=\"header\">\n            <Route exact path=\"/\">\n                <div className=\"header__menu\">\n                    <div className=\"header__logo-container\">\n                        <img className=\"header__logo\" src={headerLogo} alt=\"Место\" />\n                        <button \n                            className=\"header__menu-button\" \n                            type=\"button\" \n                            onClick={isOpen ? onClose : onMenuClick} \n                            style={isOpen ? {backgroundImage: `url(${closeButton})`} : { backgroundImage: `url(${menuBotton})`} }\n                        />\n                    </div>\n                    <div className={`header__container ${isOpen ? \"header__container_active\" : \"\"}`}>\n                        <p className=\"header__user-email\">{ userData }</p>\n                        <button type=\"button\" className=\"header__button\" onClick={onSignOut}>{title}</button>\n                    </div>\n                </div>\n            </Route>\n\n            <Route exact path=\"/sign-in\">\n                <div className=\"header__mob-menu\">\n                    <img className=\"header__logo\" src={headerLogo} alt=\"Место\" />\n                    <Link to={\"/sign-up\"} className=\"header__link\">Регистрация</Link>\n                </div>\n            </Route>\n\n            <Route exact path=\"/sign-up\">\n                <div className=\"header__mob-menu\">\n                    <img className=\"header__logo\" src={headerLogo} alt=\"Место\" />\n                    <Link to={\"/sign-in\"} className=\"header__link\">Войти</Link>\n                </div>\n            </Route>\n        </header>\n    );  \n}\n\nexport default Нeader;","\nimport React from 'react';\nexport const CurrentUserContext = React.createContext();","import {useContext} from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n\n    const currentUser = useContext(CurrentUserContext);\n\n    const isOwn = card.owner._id === currentUser._id;\n\n    const cardDeleteButtonClassName = (\n    `${isOwn ? 'card__remove-button card__remove-button_visible' : 'card__remove-button'}`\n    );\n\n    const isLiked = card.likes.some((item) => {\n        return item._id === currentUser._id\n    });\n\n    const cardLikeButtonClassName = (\n        `${isLiked ? 'card__button card__button_active' : 'card__button'}`\n    );\n\n    function handleClick() {\n        onCardClick(card);\n    }  \n\n    function handleLike() {\n        onCardLike(card);\n    }\n\n    function handleDelete() {\n        onCardDelete(card)\n    }\n\n    return (\n        <div className=\"card\">\n            <img className=\"card__image\" alt={card.name} src={card.link} onClick={handleClick} />\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDelete}></button>\n            <div className=\"card__container\">\n                <h2 className=\"card__title\">{card.name}</h2>\n                <div className=\"card__like-container\">\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLike}></button>\n                    <p className=\"card__botton-counter\">{card.likes.length}</p>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Card;","import {useContext} from 'react';\nimport Card from \"../components/Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelite, onCards}) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n    return(\n        <main>\n            <section className=\"profile\">\n                <div className=\"profile__avatar-container\">\n                    <img className=\"profile__avatar\" onClick={onEditAvatar} src={currentUser.avatar} alt=\"Фото профиля\" />\n                </div>\n                <div className=\"profile__info\"> \n                    <div className=\"profile__container\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button onClick={onEditProfile} type=\"submit\" className=\"profile__edit-button\"></button>\n                    </div>\n                    <p className=\"profile__career\">{currentUser.about}</p>\n                </div>\n                <button onClick={onAddPlace} type=\"button\" className=\"profile__add-button\"></button>\n            </section>\n\n            <section className=\"grid-galery\">\n                {onCards.map((card) => {\n                   return (\n                    <Card \n                        key={card._id} \n                        card={card} \n                        onCardClick={onCardClick} \n                        onCardLike={onCardLike} \n                        onCardDelete={onCardDelite} \n                    />\n                   )\n                })}\n            </section>\n        </main> \n    );\n}\n\nexport default Main;","function Footer() {\n    return(\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import { useEffect, useRef } from 'react';\n\nfunction PopupWithForm({isOpen, name, onClose, title, children, buttonText, onSubmit, onCloseOverlayClick, onCloseKeyDown}) { \n\n    const popupLinkRef = useRef();\n\n    useEffect(() => {\n        const currentPopup = popupLinkRef.current;\n        currentPopup.addEventListener(\"mousedown\", onCloseOverlayClick);\n        document.addEventListener(\"keydown\", onCloseKeyDown);\n        return() => {\n            document.removeEventListener(\"keydown\", onCloseKeyDown);\n            currentPopup.removeEventListener(\"mousedown\", onCloseOverlayClick);\n        }\n    }, [isOpen, onClose]);\n\n    return(\n        <div className={`popup popup_type_${name} ${isOpen ? \"popup_open\" : \"\"}`} ref={popupLinkRef}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n                <form className={`form form_${name}`} name={name} onSubmit={onSubmit}>\n                    <h2 className=\"form__title\">{title}</h2>\n                    {children}\n                    <button type=\"submit\" className=\"form__save-button\">{buttonText}</button>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default PopupWithForm;","import { useEffect, useRef } from 'react';\n\nfunction ImagePopup({card, onClose, onCloseKeyDown, onCloseOverlayClick}) {\n    const popupLinkRef = useRef();\n\n    useEffect(() => {\n        const currentPopup = popupLinkRef.current;\n\n        currentPopup.addEventListener(\"click\", onCloseOverlayClick);\n        document.addEventListener(\"keydown\", onCloseKeyDown);\n        return() => {\n            document.removeEventListener(\"keydown\", onCloseKeyDown);\n            currentPopup.removeEventListener(\"click\", onCloseOverlayClick);\n        }\n    }, [card, onClose]);\n\n    return(\n        <div className={`popup ${card.link && \"popup_open\"} popup_type_image\"`} ref={popupLinkRef}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n                <img className=\"popup__image\" alt={card.name} src={card.link}  />\n                <h3 className=\"popup__subtitle\">{card.name}</h3>\n            </div>\n        </div>\n    );\n}\n\nexport default ImagePopup;  ","class Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n  \n    _checkResponse(res) {\n      if (res.ok) {\n          return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  \n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            method: \"GET\",\n            headers: this._headers,\n        })\n        .then(this._checkResponse)\n    }\n  \n    postCards(item) {\n        return fetch(`${this._url}/cards`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({\n              name: item.name,\n              link: item.link,\n            })\n        })\n        .then(this._checkResponse)\n    }\n  \n    handlerdeleteCards(item) {\n      return fetch(`${this._url}/cards/${item}`, {\n          method: 'DELETE',\n          headers: this._headers,\n      })\n      .then(this._checkResponse)\n    }\n  \n    changeLikeCardStatus(item, like) {\n      return fetch(`${this._url}/cards/likes/${item}`, {\n          method: like ? 'DELETE' : 'PUT',\n          headers: this._headers,\n      })\n      .then(this._checkResponse)\n    }\n  \n    getUserInfoFromServer() {\n        return fetch(`${this._url}/users/me`, {\n            method: \"GET\",\n            headers: this._headers,\n        })\n        .then(this._checkResponse)\n    }\n  \n    updateUserData(item) {\n      return fetch(`${this._url}/users/me`, {\n          method: \"PATCH\",\n          headers: this._headers,\n          body: JSON.stringify({\n              name: item.name,\n              about: item.about\n          })\n      })\n      .then(this._checkResponse)\n    }\n  \n    updateUserAvatar(item) {\n      return fetch(`${this._url}/users/me/avatar`, {\n          method: \"PATCH\",\n          headers: this._headers,\n          body: JSON.stringify({\n              avatar: item.link,\n          })\n      })\n      .then(this._checkResponse)\n    }\n}\n    \nconst config = {\n    url: \"https://mesto.nomoreparties.co/v1/cohort-26\",\n    headers: {\n        authorization: \"bf09fd5b-3c45-4e70-9b69-806c8df2b150\",\n        \"Content-Type\": \"application/json\",\n    },\n};\n\nconst api = new Api(config);\n\nexport default api;","import { useState, useContext, useEffect} from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser, onCloseOverlayClick}) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  useEffect(() => {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }, [currentUser, isOpen]);\n\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    \n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return(\n    <PopupWithForm \n      name=\"edit\" \n      title=\"Редактировать профиль\" \n      buttonText=\"Сохранить\" \n      isOpen={isOpen} \n      onClose={onClose} \n      onSubmit={handleSubmit} \n      onCloseOverlayClick={onCloseOverlayClick}\n     >\n      <input \n        className=\"form__user-info form__user-info_user_name form__input\" \n        id=\"input-name\" \n        name=\"name\" \n        value={name || \"\"} \n        onChange={handleNameChange} \n        type=\"text\" \n        required \n        placeholder=\"Имя\" \n        minLength=\"2\" \n        maxLength=\"40\"\n      />\n      <span className=\"form__input-error input-name-error\"></span>\n      <input \n        className=\"form__user-info form__user-info_user_job form__input\" \n        id=\"input-job\" name=\"description\" \n        value={description || \"\"} \n        onChange={handleDescriptionChange} \n        type=\"text\" \n        required \n        placeholder=\"О себе\" \n        minLength=\"2\" \n        maxLength=\"200\"\n      />\n      <span className=\"form__input-error input-job-error\"></span> \n    </PopupWithForm>\n  );\n}","import { useRef, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, onCloseOverlayClick }) {\n\n    const avatarRef = useRef();\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n      \n        onUpdateAvatar({\n          link: avatarRef.current.value\n        });\n    }\n\n    useEffect(() => {\n        avatarRef.current.value = \"\";\n    }, [isOpen]);\n\n    return(\n        <PopupWithForm \n            name=\"avatar\" \n            title=\"Обновить аватар\" \n            buttonText=\"Сохранить\" \n            isOpen={isOpen} \n            onClose={onClose} \n            onSubmit={handleSubmit} \n            onCloseOverlayClick={onCloseOverlayClick}\n         >\n            <input \n                className=\"form__user-info form__user-info_photo_src\" \n                id=\"input-avatar\" \n                name=\"link\" \n                type=\"url\" \n                ref={avatarRef} \n                required \n                placeholder=\"Ссылка на картинку\" \n            />\n            <span className=\"form__input-error input-avatar-error\"></span>\n        </PopupWithForm>\n    )\n}","import { useState, useEffect} from 'react';\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace, onCloseOverlayClick }) {\n\n    const [cardName, setCardName] = useState(\"\");\n    const [cardLink, setCardLink] = useState(\"\");\n\n    function handleCardNameAdd(evt) {\n        setCardName(evt.target.value);\n    }\n\n    function handleCardLinkAdd(evt) {\n        setCardLink(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onAddPlace({\n            name: cardName,\n            link: cardLink,\n        });\n    }\n\n    useEffect(() => {\n        setCardName(\"\");\n        setCardLink(\"\");\n    }, [isOpen]);\n\n    return(\n        <PopupWithForm \n            name=\"new-card\" \n            title=\"Новое место\" \n            buttonText=\"Создать\" \n            isOpen={isOpen} \n            onClose={onClose} \n            onSubmit={handleSubmit}\n            onCloseOverlayClick={onCloseOverlayClick}\n         >\n            <input \n                className=\"form__user-info form__user-info_photo_name\" \n                id=\"input-title\" \n                name=\"cardName\" \n                value={cardName} \n                onChange={handleCardNameAdd} \n                type=\"text\" \n                required \n                placeholder=\"Название\" \n                minLength=\"1\" \n                maxLength=\"30\"\n            />\n            <span className=\"form__input-error input-title-error\"></span>\n            <input \n                className=\"form__user-info form__user-info_photo_src\" \n                id=\"input-src\" \n                name=\"cardLink\" \n                value={cardLink} \n                onChange={handleCardLinkAdd} \n                type=\"url\" \n                required \n                placeholder=\"Ссылка на картинку\" \n            />\n            <span className=\"form__input-error input-src-error\"></span>\n        </PopupWithForm>\n    );\n}  ","import {useState, useEffect} from 'react';\nimport { useHistory } from 'react-router-dom';\n\nfunction Login({ onLogin }) {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const history = useHistory();\n\n    const resetForm = () => {\n        setEmail(\"\");\n        setPassword(\"\");\n    }\n\n    const handleSubmit = async (evt) => {\n        evt.preventDefault();\n        onLogin({ password, email })\n          .then(resetForm)\n          .catch((err) => {\n              console.log(err);\n          });\n    }\n\n    useEffect(() => {\n        if (localStorage.getItem('jwt')) {\n          history.push('/');\n        }\n    }, []);\n\n    function handlePasswordAdd(evt) {\n        setPassword(evt.target.value);\n    }\n\n    function handleEmailAdd(evt) {\n        setEmail(evt.target.value);\n    }\n\n    return (\n        <div className=\"login-page\">\n            <h1 className=\"login-page__title\">Вход</h1>\n            <form className=\"login-page__form\" onSubmit={handleSubmit}>\n                <input \n                    className=\"login-page__input form__login-input_email\" \n                    type=\"email\" \n                    placeholder=\"Email\"\n                    name=\"email\"\n                    required\n                    value={email}\n                    onChange={handleEmailAdd}\n                />\n\n                <input \n                    className=\"login-page__input form__login-input_password\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    name=\"password\"\n                    required\n                    value={password}\n                    onChange={handlePasswordAdd}\n                />\n                <button className=\"login-page__save-button\">Войти</button>\n            </form>\n        </div>\n    )\n}\n\nexport default Login;","import React, { useState, useEffect  } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nfunction Register({ onRegister }) {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const history = useHistory();\n \n    const resetForm = () => {\n        setEmail(\"\");\n        setPassword(\"\");\n    }\n\n    const handleSubmit = async (evt) => {\n        evt.preventDefault();\n    \n        onRegister({ password, email })\n          .then(resetForm)\n          .catch((err) => {\n              console.log(err)\n          });\n    };\n\n    useEffect(() => {\n        if (localStorage.getItem('jwt')) {\n          history.push('/');\n        }\n    }, []);\n\n    function handlePasswordAdd(evt) {\n        setPassword(evt.target.value);\n    }\n\n    function handleEmailAdd(evt) {\n        setEmail(evt.target.value);\n    }\n\n    return (\n        <div className=\"login-page\">\n            <h1 className=\"login-page__title\">Регистрация</h1>\n            <form className=\"login-page__form\" onSubmit={handleSubmit}>\n                <input \n                    className=\"login-page__input form__login-input_email\" \n                    type=\"email\" \n                    placeholder=\"Email\"\n                    name=\"email\"\n                    required\n                    value={email}\n                    onChange={handleEmailAdd}\n                />\n\n                <input \n                    className=\"login-page__input form__login-input_password\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    name=\"password\"\n                    minLength=\"3\" \n                    required\n                    value={password}\n                    onChange={handlePasswordAdd}\n                    minLength=\"3\"\n                />\n                <button className=\"login-page__save-button\">Зарегистрироваться</button>\n            </form>\n            <p className=\"login-page__subtitle\">Уже зарегистрированы? <Link to={\"/sign-in\"} className=\"login-page__subtitle login-page__link\">Войти</Link></p>\n        </div>\n    )\n}\n\nexport default Register;","import { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => (\n  <Route>\n    {\n      () => (props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />)\n    }\n  </Route>\n);\n\nexport default ProtectedRoute;","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nexport const register = (password, email) => {\n    return fetch(`${BASE_URL}/signup`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({password, email})\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n\n  export const authorize = (password, email) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({password, email})\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n  }\n  \n  export const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    })\n    .then(data => data);\n  }","import { useRef, useEffect } from \"react\";\n\nexport default function InfoTooltip({ isOpen, onClose, message,  onCloseOverlayClick, onCloseKeyDown}) {\n\n    const popupLinkRef = useRef();\n\n    useEffect(() => {\n        const currentPopup = popupLinkRef.current;\n\n        currentPopup.addEventListener(\"click\", onCloseOverlayClick);\n        document.addEventListener(\"keydown\", onCloseKeyDown);\n        return() => {\n            document.removeEventListener(\"keydown\", onCloseKeyDown);\n            currentPopup.removeEventListener(\"click\", onCloseOverlayClick);\n        }\n    }, [onClose]);\n\n    return(\n        <div className={`popup ${isOpen && \"popup_open\"} popup_type_image\"`} \n            ref={popupLinkRef}        \n        >\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n                <form className=\"form\">\n                    <img className=\"form__image\" src={message.image} alt=\"Авторизация\"></img>\n                    <p className=\"form__subtitle\">{message.text}</p>\n                </form>\n            </div>\n        </div>\n    )\n}","export default __webpack_public_path__ + \"static/media/resolve.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import {useState, useEffect} from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\"; \nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport ProtectedRoute from \"./ProtectedRoute.js\";\nimport * as authUser from \"../utils/authUser.js\";\nimport InfoTooltip from \"./InfoTooltip.js\";\nimport imageResolve from \"../images/resolve.svg\";\nimport imageError from \"../images/error.svg\";\n \nfunction App() {\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\n    const [selectedCard, setSelectedCard] = useState({name: \"\", link: \"\"});\n    const [selectedCardDelet, setSelectedCardDelete] = useState(null);\n    const [currentUser, setCurrentUser] = useState({});\n    const [cards, setCards] = useState([]);\n    const [userData, setUserData] = useState(\"email\");\n    const [message, setMessage] = useState({ image: \"\", text: \"\" });\n    const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\n    const history = useHistory();\n\n\n    useEffect(() => {\n        Promise.all([api.getInitialCards(), api.getUserInfoFromServer()])\n        .then(([dataCards, dataUser]) => {\n            setCards(dataCards);\n            setCurrentUser(dataUser);\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }, []);\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some((item) => {\n            return item._id === currentUser._id\n        });\n      \n        api.changeLikeCardStatus(card._id, isLiked)\n        .then((newCard) => {\n            setCards(cards => cards.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n    \n    function handleCardDelete(evt) {\n        evt.preventDefault();\n        api.handlerdeleteCards(selectedCardDelet._id)\n        .then(() => {\n            setCards(cards => cards.filter((c) => c._id !== selectedCardDelet._id));\n            setIsDeletePopupOpen(false);\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleDeleteCardClick(card) {\n        setSelectedCardDelete(card);\n        setIsDeletePopupOpen(true);\n    }\n\n    function handleAddPlaceSubmit(item) {\n        api.postCards(item)\n        .then(newCard => {\n            setCards([newCard, ...cards]);\n            closeAllPopups();\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n     \n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card);\n    }\n\n    function handleMenuClick() {\n        setIsMenuOpen(true);\n    }\n\n    function handleClosePopupKeyDown(evt) {\n        if(evt.key === \"Escape\") {\n            closeAllPopups();\n        }\n    }\n\n    function handleClosePopupOverlayClick(evt) {\n        if(evt.target.classList.contains(\"popup\")) {\n            closeAllPopups();\n        }\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsDeletePopupOpen(false);\n        setSelectedCard({name: \"\", link: \"\"});\n        setIsMenuOpen(false);\n        setInfoTooltipOpen(false);\n        setMessage({ image: \"\", text: \"\" })\n    }\n\n    function handleUpdateUser(item) {\n        api.updateUserData(item)\n        .then(res => {\n            setCurrentUser(res);\n            closeAllPopups();\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleUpdateAvatar(item) {\n        api.updateUserAvatar(item) \n        .then(res => {\n            setCurrentUser(res);\n            closeAllPopups();\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    useEffect(() => {\n        const jwt = localStorage.getItem('jwt');\n        if (jwt) {\n            authUser.getContent(jwt)\n            .then((res) => {\n                if (res) {\n                  setLoggedIn(true);\n                  setUserData(res.data.email);\n                  history.push('/');\n                }\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n        }\n    }, [history]);\n    \n    const onRegister = ({ password, email }) => {\n        return authUser.register( password, email )\n        .then((res) => {\n            if(res) {\n                setMessage({ image: imageResolve, text: \"Вы успешно зарегистрировались!\" });\n                return res;\n            } \n        })\n        .catch((err) => {\n            console.log(err);\n            setMessage({ image: imageError, text: \"Что-то пошло не так! Попробуйте ещё раз.\" });\n        })\n        .finally(() => {\n            setInfoTooltipOpen(true);\n        });\n    }\n\n    const onLogin = ({ password, email }) => {\n        return authUser.authorize( password, email )\n        .then((data) => {\n            if (data.token){\n                setLoggedIn(true);\n                localStorage.setItem('jwt', data.token);\n                history.push('/');\n            } \n          })\n          .catch((err) => {\n              console.log(err)\n              setMessage({ image: imageError, text: \"Что-то пошло не так! Попробуйте ещё раз.\" });\n              setInfoTooltipOpen(true);\n            })\n    }\n\n    const onSignOut = () => {\n        localStorage.removeItem('jwt');\n        setLoggedIn(false);\n    }\n\n  return (\n    <CurrentUserContext.Provider value = {currentUser}>\n        <div className=\"App page\">\n            <Route>\n                {loggedIn ? <Redirect to=\"/\" />  &&           \n                <Header \n                    title={\"Выйти\"} \n                    isOpen={isMenuOpen} \n                    onMenuClick={handleMenuClick}\n                    onClose={closeAllPopups} \n                    userData={userData}\n                    onSignOut={onSignOut}\n                /> \n                : <Redirect to=\"/sign-up\" \n            />}\n\n            </Route>\n            <Switch>\n                <ProtectedRoute \n                    exact\n                    path=\"/\"\n                    loggedIn={loggedIn}\n                    userData={userData}\n                    onEditProfile={handleEditProfileClick} \n                    onAddPlace={handleAddPlaceClick}  \n                    onEditAvatar={handleEditAvatarClick} \n                    onCardClick={handleCardClick} \n                    onCardLike={handleCardLike} \n                    onCardDelite={handleDeleteCardClick}\n                    onCards={cards}\n                    component={Main} \n                />     \n\n                <Route exact path=\"/sign-up\">\n                    <Header />\n                    <Register onRegister={onRegister} />\n                </Route>\n\n                <Route exact path=\"/sign-in\">\n                    <Header />\n                    <Login onLogin={onLogin} />\n                </Route>\n\n            </Switch>\n\n            <InfoTooltip \n                isOpen={isInfoTooltipOpen}\n                onClose={closeAllPopups}\n                message={message}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />\n\n            <Footer />\n\n            <EditProfilePopup \n                isOpen={isEditProfilePopupOpen} \n                onClose={closeAllPopups} \n                onUpdateUser={handleUpdateUser}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />\n\n            <EditAvatarPopup \n                isOpen={isEditAvatarPopupOpen} \n                onClose={closeAllPopups} \n                onUpdateAvatar={handleUpdateAvatar}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />\n\n            <AddPlacePopup \n                isOpen={isAddPlacePopupOpen} \n                onClose={closeAllPopups}\n                onAddPlace={handleAddPlaceSubmit}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />\n\n            <ImagePopup \n                card={selectedCard} \n                onClose={closeAllPopups} \n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />         \n\n            <PopupWithForm \n                name=\"delete-image\" \n                title=\"Вы уверены?\" \n                buttonText=\"Да\" \n                isOpen={isDeletePopupOpen}\n                onClose={closeAllPopups}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n                onSubmit={handleCardDelete}\n            />\n        </div>\n    </CurrentUserContext.Provider> \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}