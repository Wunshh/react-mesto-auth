{"version":3,"sources":["images/header__logo.svg","images/menu_button.svg","images/Close_Icon2.svg","contexts/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/authUser.js","components/InfoTooltip.js","images/resolve.svg","images/error.svg","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Нeader","title","isOpen","onMenuClick","onClose","onSignOut","currentUser","useContext","className","exact","path","src","headerLogo","alt","type","onClick","style","backgroundImage","closeButton","menuBotton","email","to","Card","card","onCardClick","onCardLike","onCardDelete","console","log","isLiked","likes","some","item","_id","cardLikeButtonClassName","isOwn","owner","cardDeleteButtonClassName","name","link","length","Main","onEditAvatar","onEditProfile","onAddPlace","onCardDelite","onCards","avatar","about","map","reverse","Footer","PopupWithForm","children","buttonText","onSubmit","onCloseOverlayClick","onCloseKeyDown","popupLinkRef","useRef","useEffect","currentPopup","current","addEventListener","document","removeEventListener","ref","ImagePopup","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","body","JSON","stringify","like","localStorage","getItem","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","evt","preventDefault","id","value","onChange","target","required","placeholder","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","Login","onLogin","setEmail","password","setPassword","history","useHistory","resetForm","handleSubmit","a","catch","err","push","Register","onRegister","ProtectedRoute","Component","component","props","loggedIn","BASE_URL","InfoTooltip","message","image","text","App","setLoggedIn","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isMenuOpen","setIsMenuOpen","selectedCard","setSelectedCard","selectedCardDelet","setSelectedCardDelete","setCurrentUser","cards","setCards","setMessage","isInfoTooltipOpen","setInfoTooltipOpen","handleClosePopupKeyDown","key","closeAllPopups","handleClosePopupOverlayClick","classList","contains","all","getInitialCards","getUserInfoFromServer","dataCards","dataUser","token","jwt","data","Provider","Header","removeItem","changeLikeCardStatus","newCard","c","authUser","imageResolve","imageError","finally","setItem","updateUserData","updateUserAvatar","postCards","handlerdeleteCards","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.2ac254f7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.e564ed1a.svg\";","export default __webpack_public_path__ + \"static/media/menu_button.a46d5c1c.svg\";","export default __webpack_public_path__ + \"static/media/Close_Icon2.b793e07c.svg\";","\nimport React from 'react';\nexport const CurrentUserContext = React.createContext();","import headerLogo from \"../images/header__logo.svg\";\nimport menuBotton from \"../images/menu_button.svg\";\nimport closeButton from \"../images/Close_Icon2.svg\";\nimport {useContext} from 'react';\nimport { Route, Link } from 'react-router-dom';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Нeader({ title, isOpen, onMenuClick, onClose, onSignOut}) {\n\n    const currentUser = useContext(CurrentUserContext);\n    \n    return(\n        <header className=\"header\">\n            <Route exact path=\"/\">\n                <div className=\"header__menu\">\n                    <div className=\"header__logo-container\">\n                        <img className=\"header__logo\" src={headerLogo} alt=\"Место\" />\n                        <button \n                            className=\"header__menu-button\" \n                            type=\"button\" \n                            onClick={isOpen ? onClose : onMenuClick} \n                            style={isOpen ? {backgroundImage: `url(${closeButton})`} : { backgroundImage: `url(${menuBotton})`} }\n                        />\n                    </div>\n                    <div className={`header__container ${isOpen ? \"header__container_active\" : \"\"}`}>\n                        <p className=\"header__user-email\">{ currentUser.email }</p>\n                        <button type=\"button\" className=\"header__button\" onClick={onSignOut}>{title}</button>\n                    </div>\n                </div>\n            </Route>\n\n            <Route exact path=\"/signin\">\n                <div className=\"header__mob-menu\">\n                    <img className=\"header__logo\" src={headerLogo} alt=\"Место\" />\n                    <Link to={\"/signup\"} className=\"header__link\">Регистрация</Link>\n                </div>\n            </Route>\n\n            <Route exact path=\"/signup\">\n                <div className=\"header__mob-menu\">\n                    <img className=\"header__logo\" src={headerLogo} alt=\"Место\" />\n                    <Link to={\"/signin\"} className=\"header__link\">Войти</Link>\n                </div>\n            </Route>\n        </header>\n    );  \n}\n\nexport default Нeader;","import {useContext} from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n\n    console.log(card);\n    const currentUser = useContext(CurrentUserContext);\n\n    const isLiked = card.likes.some((item) => {\n        return item === currentUser._id\n    });\n\n    const cardLikeButtonClassName = (\n        `${isLiked ? 'card__button card__button_active' : 'card__button'}`\n    );\n\n    const isOwn = card.owner._id === currentUser._id;\n\n    const cardDeleteButtonClassName = (\n    `${isOwn ? 'card__remove-button card__remove-button_visible' : 'card__remove-button'}`\n    );\n\n    function handleClick() {\n        onCardClick(card);\n    }  \n\n    function handleLike() {\n        onCardLike(card);\n    }\n\n    function handleDelete() {\n        onCardDelete(card)\n    }\n\n    return (\n        <div className=\"card\">\n            <img className=\"card__image\" alt={card.name} src={card.link} onClick={handleClick} />\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDelete}></button>\n            <div className=\"card__container\">\n                <h2 className=\"card__title\">{card.name}</h2>\n                <div className=\"card__like-container\">\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLike}></button>\n                    <p className=\"card__botton-counter\">{card.likes.length}</p>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Card;","import {useContext} from 'react';\nimport Card from \"../components/Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelite, onCards}) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n    return(\n        <main>\n            <section className=\"profile\">\n                <div className=\"profile__avatar-container\">\n                    <img className=\"profile__avatar\" onClick={onEditAvatar} src={currentUser.avatar} alt=\"Фото профиля\" />\n                </div>\n                <div className=\"profile__info\"> \n                    <div className=\"profile__container\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button onClick={onEditProfile} type=\"submit\" className=\"profile__edit-button\"></button>\n                    </div>\n                    <p className=\"profile__career\">{currentUser.about}</p>\n                </div>\n                <button onClick={onAddPlace} type=\"button\" className=\"profile__add-button\"></button>\n            </section>\n\n            <section className=\"grid-galery\">\n                {onCards.map((card) => {\n                   return (\n                    <Card \n                        key={card._id} \n                        card={card} \n                        onCardClick={onCardClick} \n                        onCardLike={onCardLike} \n                        onCardDelete={onCardDelite} \n                    />\n                   )\n                }).reverse()}\n            </section>\n        </main> \n    );\n}\n\nexport default Main;","function Footer() {\n    return(\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import { useEffect, useRef } from 'react';\n\nfunction PopupWithForm({isOpen, name, onClose, title, children, buttonText, onSubmit, onCloseOverlayClick, onCloseKeyDown}) { \n\n    const popupLinkRef = useRef();\n\n    useEffect(() => {\n        const currentPopup = popupLinkRef.current;\n        currentPopup.addEventListener(\"mousedown\", onCloseOverlayClick);\n        document.addEventListener(\"keydown\", onCloseKeyDown);\n        return() => {\n            document.removeEventListener(\"keydown\", onCloseKeyDown);\n            currentPopup.removeEventListener(\"mousedown\", onCloseOverlayClick);\n        }\n    }, [isOpen, onClose, onCloseKeyDown, onCloseOverlayClick]);\n\n    return(\n        <div className={`popup popup_type_${name} ${isOpen ? \"popup_open\" : \"\"}`} ref={popupLinkRef}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n                <form className={`form form_${name}`} name={name} onSubmit={onSubmit}>\n                    <h2 className=\"form__title\">{title}</h2>\n                    {children}\n                    <button type=\"submit\" className=\"form__save-button\">{buttonText}</button>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default PopupWithForm;","import { useEffect, useRef } from 'react';\n\nfunction ImagePopup({card, onClose, onCloseKeyDown, onCloseOverlayClick}) {\n    const popupLinkRef = useRef();\n\n    useEffect(() => {\n        const currentPopup = popupLinkRef.current;\n\n        currentPopup.addEventListener(\"click\", onCloseOverlayClick);\n        document.addEventListener(\"keydown\", onCloseKeyDown);\n        return() => {\n            document.removeEventListener(\"keydown\", onCloseKeyDown);\n            currentPopup.removeEventListener(\"click\", onCloseOverlayClick);\n        }\n    }, [card, onClose, onCloseKeyDown, onCloseOverlayClick]);\n\n    return(\n        <div className={`popup ${card.link && \"popup_open\"} popup_type_image\"`} ref={popupLinkRef}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n                <img className=\"popup__image\" alt={card.name} src={card.link}  />\n                <h3 className=\"popup__subtitle\">{card.name}</h3>\n            </div>\n        </div>\n    );\n}\n\nexport default ImagePopup;  ","class Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n  \n    _checkResponse(res) {\n      if (res.ok) {\n          return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  \n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            method: \"GET\",\n            headers: this._headers,\n        })\n        .then(this._checkResponse)\n    }\n  \n    postCards(item) {\n        return fetch(`${this._url}/cards`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({\n              name: item.name,\n              link: item.link,\n            })\n        })\n        .then(this._checkResponse)\n    }\n  \n    handlerdeleteCards(item) {\n      return fetch(`${this._url}/cards/${item}`, {\n          method: 'DELETE',\n          headers: this._headers,\n      })\n      .then(this._checkResponse)\n    }\n  \n    changeLikeCardStatus(item, like) {\n      return fetch(`${this._url}/cards/${item}/likes`, {\n          method: like ? 'DELETE' : 'PUT',\n          headers: this._headers,\n      })\n      .then(this._checkResponse)\n    }\n  \n    getUserInfoFromServer() {\n        return fetch(`${this._url}/users/me`, {\n            method: \"GET\",\n            headers: this._headers,\n        })\n        .then(this._checkResponse)\n    }\n  \n    updateUserData(item) {\n      return fetch(`${this._url}/users/me`, {\n          method: \"PATCH\",\n          headers: this._headers,\n          body: JSON.stringify({\n              name: item.name,\n              about: item.about\n          })\n      })\n      .then(this._checkResponse)\n    }\n  \n    updateUserAvatar(item) {\n      return fetch(`${this._url}/users/me/avatar`, {\n          method: \"PATCH\",\n          headers: this._headers,\n          body: JSON.stringify({\n              avatar: item.link,\n          })\n      })\n      .then(this._checkResponse)\n    }\n}\n    \nconst config = {\n    url: \"https://api.last.nomoredomains.work\",\n    headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n    },\n};\n\nconst api = new Api(config);\n\nexport default api;","import { useState, useContext, useEffect} from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser, onCloseOverlayClick}) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  useEffect(() => {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }, [currentUser, isOpen]);\n\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    \n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return(\n    <PopupWithForm \n      name=\"edit\" \n      title=\"Редактировать профиль\" \n      buttonText=\"Сохранить\" \n      isOpen={isOpen} \n      onClose={onClose} \n      onSubmit={handleSubmit} \n      onCloseOverlayClick={onCloseOverlayClick}\n     >\n      <input \n        className=\"form__user-info form__user-info_user_name form__input\" \n        id=\"input-name\" \n        name=\"name\" \n        value={name || \"\"} \n        onChange={handleNameChange} \n        type=\"text\" \n        required \n        placeholder=\"Имя\" \n        minLength=\"2\" \n        maxLength=\"40\"\n      />\n      <span className=\"form__input-error input-name-error\"></span>\n      <input \n        className=\"form__user-info form__user-info_user_job form__input\" \n        id=\"input-job\" name=\"description\" \n        value={description || \"\"} \n        onChange={handleDescriptionChange} \n        type=\"text\" \n        required \n        placeholder=\"О себе\" \n        minLength=\"2\" \n        maxLength=\"200\"\n      />\n      <span className=\"form__input-error input-job-error\"></span> \n    </PopupWithForm>\n  );\n}","import { useRef, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, onCloseOverlayClick }) {\n\n    const avatarRef = useRef();\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n      \n        onUpdateAvatar({\n          link: avatarRef.current.value\n        });\n    }\n\n    useEffect(() => {\n        avatarRef.current.value = \"\";\n    }, [isOpen]);\n\n    return(\n        <PopupWithForm \n            name=\"avatar\" \n            title=\"Обновить аватар\" \n            buttonText=\"Сохранить\" \n            isOpen={isOpen} \n            onClose={onClose} \n            onSubmit={handleSubmit} \n            onCloseOverlayClick={onCloseOverlayClick}\n         >\n            <input \n                className=\"form__user-info form__user-info_photo_src\" \n                id=\"input-avatar\" \n                name=\"link\" \n                type=\"url\" \n                ref={avatarRef} \n                required \n                placeholder=\"Ссылка на картинку\" \n            />\n            <span className=\"form__input-error input-avatar-error\"></span>\n        </PopupWithForm>\n    )\n}","import { useState, useEffect} from 'react';\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace, onCloseOverlayClick }) {\n\n    const [cardName, setCardName] = useState(\"\");\n    const [cardLink, setCardLink] = useState(\"\");\n\n    function handleCardNameAdd(evt) {\n        setCardName(evt.target.value);\n    }\n\n    function handleCardLinkAdd(evt) {\n        setCardLink(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onAddPlace({\n            name: cardName,\n            link: cardLink,\n        });\n    }\n\n    useEffect(() => {\n        setCardName(\"\");\n        setCardLink(\"\");\n    }, [isOpen]);\n\n    return(\n        <PopupWithForm \n            name=\"new-card\" \n            title=\"Новое место\" \n            buttonText=\"Создать\" \n            isOpen={isOpen} \n            onClose={onClose} \n            onSubmit={handleSubmit}\n            onCloseOverlayClick={onCloseOverlayClick}\n         >\n            <input \n                className=\"form__user-info form__user-info_photo_name\" \n                id=\"input-title\" \n                name=\"cardName\" \n                value={cardName} \n                onChange={handleCardNameAdd} \n                type=\"text\" \n                required \n                placeholder=\"Название\" \n                minLength=\"1\" \n                maxLength=\"30\"\n            />\n            <span className=\"form__input-error input-title-error\"></span>\n            <input \n                className=\"form__user-info form__user-info_photo_src\" \n                id=\"input-src\" \n                name=\"cardLink\" \n                value={cardLink} \n                onChange={handleCardLinkAdd} \n                type=\"url\" \n                required \n                placeholder=\"Ссылка на картинку\" \n            />\n            <span className=\"form__input-error input-src-error\"></span>\n        </PopupWithForm>\n    );\n}  ","import {useState, useEffect} from 'react';\nimport { useHistory } from 'react-router-dom';\n\nfunction Login({ onLogin }) {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const history = useHistory();\n\n    const resetForm = () => {\n        setEmail(\"\");\n        setPassword(\"\");\n    }\n\n    const handleSubmit = async (evt) => {\n        evt.preventDefault();\n        onLogin({ password, email })\n          .then(resetForm)\n          .catch((err) => {\n              console.log(err);\n          });\n    }\n\n    useEffect(() => {\n        if (localStorage.getItem('jwt')) {\n          history.push('/');\n        }\n    }, [history]);\n\n    function handlePasswordAdd(evt) {\n        setPassword(evt.target.value);\n    }\n\n    function handleEmailAdd(evt) {\n        setEmail(evt.target.value);\n    }\n\n    return (\n        <div className=\"login-page\">\n            <h1 className=\"login-page__title\">Вход</h1>\n            <form className=\"login-page__form\" onSubmit={handleSubmit}>\n                <input \n                    className=\"login-page__input form__login-input_email\" \n                    type=\"email\" \n                    placeholder=\"Email\"\n                    name=\"email\"\n                    required\n                    value={email}\n                    onChange={handleEmailAdd}\n                />\n\n                <input \n                    className=\"login-page__input form__login-input_password\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    name=\"password\"\n                    required\n                    value={password}\n                    onChange={handlePasswordAdd}\n                />\n                <button className=\"login-page__save-button\">Войти</button>\n            </form>\n        </div>\n    )\n}\n\nexport default Login;","import React, { useState, useEffect  } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nfunction Register({ onRegister }) {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const history = useHistory();\n \n    const resetForm = () => {\n        setEmail(\"\");\n        setPassword(\"\");\n    }\n\n    const handleSubmit = async (evt) => {\n        evt.preventDefault();\n    \n        onRegister({ password, email })\n          .then(resetForm)\n          .catch((err) => {\n              console.log(err)\n          });\n    };\n\n    useEffect(() => {\n        if (localStorage.getItem('jwt')) {\n          history.push('/');\n        }\n    }, [history]);\n\n    function handlePasswordAdd(evt) {\n        setPassword(evt.target.value);\n    }\n\n    function handleEmailAdd(evt) {\n        setEmail(evt.target.value);\n    }\n\n    return (\n        <div className=\"login-page\">\n            <h1 className=\"login-page__title\">Регистрация</h1>\n            <form className=\"login-page__form\" onSubmit={handleSubmit}>\n                <input \n                    className=\"login-page__input form__login-input_email\" \n                    type=\"email\" \n                    placeholder=\"Email\"\n                    name=\"email\"\n                    required\n                    value={email}\n                    onChange={handleEmailAdd}\n                />\n\n                <input \n                    className=\"login-page__input form__login-input_password\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    name=\"password\"\n                    required\n                    value={password}\n                    onChange={handlePasswordAdd}\n                />\n                <button className=\"login-page__save-button\">Зарегистрироваться</button>\n            </form>\n            <p className=\"login-page__subtitle\">Уже зарегистрированы? <Link to={\"/signin\"} className=\"login-page__subtitle login-page__link\">Войти</Link></p>\n        </div>\n    )\n}\n\nexport default Register;","import { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => (\n  <Route>\n    {\n      () => (props.loggedIn ? <Component {...props} /> : <Redirect to='/signin' />)\n    }\n  </Route>\n);\n\nexport default ProtectedRoute;","export const BASE_URL = \"https://api.last.nomoredomains.work\";\n\nexport const register = (password, email) => { \n  return fetch(`${BASE_URL}/signup`, { \n    method: 'POST', \n    headers: { \n      'Accept': 'application/json', \n      'Content-Type': 'application/json' \n    }, \n    body: JSON.stringify({password, email}) \n  }) \n  .then((res) => { \n    if (res.ok) { \n      return res.json(); \n    } \n    return Promise.reject(`Ошибка: ${res.status}`); \n  }) \n  .then((res) => { \n    return res; \n  }); \n\n} \n\nexport const authorize = (password, email) => { \n  return fetch(`${BASE_URL}/signin`, { \n    method: 'POST', \n    headers: { \n      'Accept': 'application/json', \n      'Content-Type': 'application/json',\n    }, \n    body: JSON.stringify({password, email}) \n  }) \n\n  .then((res) => { \n    if (res.ok) { \n      return res.json(); \n    } \n    return Promise.reject(`Ошибка: ${res.status}`); \n  }); \n\n} \n\nexport const getContent = (token) => { \n  return fetch(`${BASE_URL}/users/me`, { \n    method: 'GET', \n    headers: { \n      'Accept': 'application/json', \n      'Content-Type': 'application/json', \n      'Authorization': `Bearer ${token}`, \n    } \n  }) \n  .then((res) => { \n    if (res.ok) { \n      return res.json(); \n    } \n    return Promise.reject(`Ошибка: ${res.status}`); \n  }) \n  .then(data => data); \n} ","import { useRef, useEffect } from \"react\";\n\nexport default function InfoTooltip({ isOpen, onClose, message,  onCloseOverlayClick, onCloseKeyDown}) {\n\n    const popupLinkRef = useRef();\n\n    useEffect(() => {\n        const currentPopup = popupLinkRef.current;\n\n        currentPopup.addEventListener(\"click\", onCloseOverlayClick);\n        document.addEventListener(\"keydown\", onCloseKeyDown);\n        return() => {\n            document.removeEventListener(\"keydown\", onCloseKeyDown);\n            currentPopup.removeEventListener(\"click\", onCloseOverlayClick);\n        }\n    }, [onClose, onCloseKeyDown, onCloseOverlayClick]);\n\n    return(\n        <div className={`popup ${isOpen && \"popup_open\"} popup_type_image\"`} \n            ref={popupLinkRef}        \n        >\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n                <form className=\"form\">\n                    <img className=\"form__image\" src={message.image} alt=\"Авторизация\"></img>\n                    <p className=\"form__subtitle\">{message.text}</p>\n                </form>\n            </div>\n        </div>\n    )\n}","export default __webpack_public_path__ + \"static/media/resolve.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import {useState, useEffect} from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\"; \nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport ProtectedRoute from \"./ProtectedRoute.js\";\nimport * as authUser from \"../utils/authUser.js\";\nimport InfoTooltip from \"./InfoTooltip.js\";\nimport imageResolve from \"../images/resolve.svg\";\nimport imageError from \"../images/error.svg\";\n \nfunction App() {\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\n    const [selectedCard, setSelectedCard] = useState({name: \"\", link: \"\"});\n    const [selectedCardDelet, setSelectedCardDelete] = useState(null);\n    const [currentUser, setCurrentUser] = useState({});\n    const [cards, setCards] = useState([]);\n    const [message, setMessage] = useState({ image: \"\", text: \"\" });\n    const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\n    const history = useHistory();\n\n\n    useEffect(() => {\n        Promise.all([api.getInitialCards(), api.getUserInfoFromServer()])\n        .then(([dataCards, dataUser]) => {\n            setCards(dataCards);\n            setCurrentUser(dataUser);\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }, []);\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some((item) => {\n            return item === currentUser._id\n        });\n      \n        api.changeLikeCardStatus(card._id, isLiked)\n        .then((newCard) => {\n            setCards(cards => cards.map((c) => c._id === card._id ? newCard : c));\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n    \n    function handleCardDelete(evt) {\n        evt.preventDefault();\n        api.handlerdeleteCards(selectedCardDelet._id)\n        .then(() => {\n            setCards(cards => cards.filter((c) => c._id !== selectedCardDelet._id));\n            setIsDeletePopupOpen(false);\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleDeleteCardClick(card) {\n        setSelectedCardDelete(card);\n        setIsDeletePopupOpen(true);\n    }\n\n    function handleAddPlaceSubmit(item) {\n        api.postCards(item)\n        .then(newCard => {\n            setCards([...cards, newCard]);\n            closeAllPopups();\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n     \n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card);\n    }\n\n    function handleMenuClick() {\n        setIsMenuOpen(true);\n    }\n\n    function handleClosePopupKeyDown(evt) {\n        if(evt.key === \"Escape\") {\n            closeAllPopups();\n        }\n    }\n\n    function handleClosePopupOverlayClick(evt) {\n        if(evt.target.classList.contains(\"popup\")) {\n            closeAllPopups();\n        }\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsDeletePopupOpen(false);\n        setSelectedCard({name: \"\", link: \"\"});\n        setIsMenuOpen(false);\n        setInfoTooltipOpen(false);\n        setMessage({ image: \"\", text: \"\" })\n    }\n\n    function handleUpdateUser(item) {\n        api.updateUserData(item)\n        .then(res => {\n            setCurrentUser(res);\n            closeAllPopups();\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    function handleUpdateAvatar(item) {\n        api.updateUserAvatar(item) \n        .then(res => {\n            setCurrentUser(res);\n            closeAllPopups();\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    useEffect(() => {\n        const jwt = localStorage.getItem('jwt');\n        if (jwt) {\n            authUser.getContent(jwt)\n            .then((res) => {\n                if (res) {\n                  setLoggedIn(true);\n                  history.push('/');\n                }\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n        }\n    }, [history]);\n    \n    const onRegister = ({ password, email }) => {\n        return authUser.register( password, email )\n        .then((res) => {\n            if(res) {\n                setMessage({ image: imageResolve, text: \"Вы успешно зарегистрировались!\" });\n                return res;\n            } \n        })\n        .catch((err) => {\n            console.log(err);\n            setMessage({ image: imageError, text: \"Что-то пошло не так! Попробуйте ещё раз.\" });\n        })\n        .finally(() => {\n            setInfoTooltipOpen(true);\n        });\n    }\n\n    const onLogin = ({ password, email }) => { \n        return authUser.authorize( password, email ) \n        .then((data) => { \n            if (data.token){ \n                setLoggedIn(true); \n                localStorage.setItem('jwt', data.token); \n                history.push('/'); \n            }  \n          }) \n        .catch((err) => { \n            console.log(err) \n            setMessage({ image: imageError, text: \"Что-то пошло не так! Попробуйте ещё раз.\" }); \n            setInfoTooltipOpen(true); \n        }) \n    }\n\n    const onSignOut = () => {\n        localStorage.removeItem('jwt');\n        setLoggedIn(false);\n    }\n\n  return (\n    <CurrentUserContext.Provider value = {currentUser}>\n        <div className=\"App page\">\n            <Route>\n                {loggedIn ? <Redirect to=\"/\" />  &&           \n                <Header \n                    title={\"Выйти\"} \n                    isOpen={isMenuOpen} \n                    onMenuClick={handleMenuClick}\n                    onClose={closeAllPopups} \n                    onSignOut={onSignOut}\n                /> \n                : <Redirect to=\"/signup\" \n            />}\n\n            </Route>\n            <Switch>\n                <ProtectedRoute \n                    exact\n                    path=\"/\"\n                    loggedIn={loggedIn}\n                    onEditProfile={handleEditProfileClick} \n                    onAddPlace={handleAddPlaceClick}  \n                    onEditAvatar={handleEditAvatarClick} \n                    onCardClick={handleCardClick} \n                    onCardLike={handleCardLike} \n                    onCardDelite={handleDeleteCardClick}\n                    onCards={cards}\n                    component={Main} \n                />     \n\n                <Route exact path=\"/signup\">\n                    <Header />\n                    <Register onRegister={onRegister} />\n                </Route>\n\n                <Route exact path=\"/signin\">\n                    <Header />\n                    <Login onLogin={onLogin} />\n                </Route>\n\n            </Switch>\n\n            <InfoTooltip \n                isOpen={isInfoTooltipOpen}\n                onClose={closeAllPopups}\n                message={message}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />\n\n            <Footer />\n\n            <EditProfilePopup \n                isOpen={isEditProfilePopupOpen} \n                onClose={closeAllPopups} \n                onUpdateUser={handleUpdateUser}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />\n\n            <EditAvatarPopup \n                isOpen={isEditAvatarPopupOpen} \n                onClose={closeAllPopups} \n                onUpdateAvatar={handleUpdateAvatar}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />\n\n            <AddPlacePopup \n                isOpen={isAddPlacePopupOpen} \n                onClose={closeAllPopups}\n                onAddPlace={handleAddPlaceSubmit}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />\n\n            <ImagePopup \n                card={selectedCard} \n                onClose={closeAllPopups} \n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n            />         \n\n            <PopupWithForm \n                name=\"delete-image\" \n                title=\"Вы уверены?\" \n                buttonText=\"Да\" \n                isOpen={isDeletePopupOpen}\n                onClose={closeAllPopups}\n                onCloseKeyDown={handleClosePopupKeyDown}\n                onCloseOverlayClick={handleClosePopupOverlayClick}\n                onSubmit={handleCardDelete}\n            />\n        </div>\n    </CurrentUserContext.Provider> \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}